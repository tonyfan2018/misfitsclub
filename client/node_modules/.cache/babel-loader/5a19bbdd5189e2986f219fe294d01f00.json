{"ast":null,"code":"var _jsxFileName = \"/Users/yingying/Dropbox/My Mac (\\u5E94\\u748E\\u7684MacBook Pro)/Downloads/misfits-club/client/src/components/dashboard/EditPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditPost = props => {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [article, setArticle] = useState(\"\");\n  const [authorname, setAuthorName] = useState(\"\");\n  const [fileName, setFileName] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const onChangeFile = e => {\n    setFileName(e.target.files[0]);\n  };\n\n  const changeOnClick = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"article\", article);\n    formData.append(\"authorname\", authorname);\n    formData.append(\"articleImage\", fileName);\n    setTitle(\"\");\n    setArticle(\"\");\n    setAuthorName(\"\");\n    axios.put(`/api/articles/update/${props.match.params.id}`, formData).then(res => setMessage(res.data)).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    axios.get(`/api/articles/${props.match.params.id}`).then(res => {\n      setTitle(res.data.title), setArticle(res.data.article), setAuthorName(res.data.authorname);\n    }).catch(error => console.log(error));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"col s12\",\n      onSubmit: changeOnClick,\n      encType: \"multipart/form-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field col 12\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setAuthorName(e.target.value),\n            value: authorname,\n            id: \"authorname\",\n            type: \"text\",\n            className: \"validate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"authorname\",\n            children: \"Author Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field col 12\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => setTitle(e.target.value),\n            value: title,\n            id: \"title\",\n            type: \"text\",\n            className: \"validate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field col s12\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            onChange: e => setArticle(e.target.value),\n            value: article,\n            id: \"article\",\n            className: \"materialize-textarea\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"article\",\n            children: \"Textarea\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field col s12\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            filename: \"articleImage\",\n            id: \"goodimage\",\n            onChange: onChangeFile,\n            className: \"validate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"goodimage\",\n            children: \"File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn waves-effect waves-light\",\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 1\n  }, this);\n};\n\n_s(EditPost, \"98lWBC8fQsZd4i9wAwQJ9sqEnLs=\");\n\n_c = EditPost;\nexport default EditPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPost\");","map":{"version":3,"sources":["/Users/yingying/Dropbox/My Mac (应璎的MacBook Pro)/Downloads/misfits-club/client/src/components/dashboard/EditPost.js"],"names":["React","useState","useEffect","axios","EditPost","props","title","setTitle","article","setArticle","authorname","setAuthorName","fileName","setFileName","message","setMessage","onChangeFile","e","target","files","changeOnClick","preventDefault","formData","FormData","append","put","match","params","id","then","res","data","catch","err","console","log","get","error","value"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from \"react\";\n\nimport axios from 'axios';\n\n\nconst EditPost = (props)=>{\n    const [title, setTitle] = useState(\"\");\n    const [article, setArticle] = useState(\"\");\n    const [authorname, setAuthorName] = useState(\"\");\n    const [fileName, setFileName] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n\n\n    const onChangeFile = e => {\n\n        setFileName(e.target.files[0]);\n    }\n\n    const changeOnClick = e => {\n        e.preventDefault();\n\n        const formData = new FormData();\n\n       formData.append(\"title\", title);\n       formData.append(\"article\", article);\n       formData.append(\"authorname\", authorname);\n       formData.append(\"articleImage\", fileName);\n\n\n        setTitle(\"\");\n        setArticle(\"\");\n        setAuthorName(\"\");\n    axios\n    .put(`/api/articles/update/${props.match.params.id}`, formData)\n    .then(res => setMessage(res.data))\n    .catch(err =>{\n        console.log(err);\n    })\n    }\n\n    useEffect(() => {\n        axios\n            .get(`/api/articles/${props.match.params.id}`)\n            .then(res => {\n                setTitle(res.data.title),\n                setArticle(res.data.article),\n                setAuthorName(res.data.authorname)\n            })\n            .catch(error => console.log(error));\n    }, [])\n\nreturn(\n\n\n\n<div className=\"row\">\n    <div>{message}</div>\n    <form className=\"col s12\" onSubmit={changeOnClick} encType=\"multipart/form-data\">\n      \n      <div className=\"row\">\n        <div className=\"input-field col 12\">\n          <input onChange={e => setAuthorName(e.target.value)} value={authorname} id=\"authorname\" type=\"text\" className=\"validate\" />\n          <label htmlFor=\"authorname\">Author Name</label>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"input-field col 12\">\n          <input   onChange={e => setTitle(e.target.value)} value={title}id=\"title\" type=\"text\" className=\"validate\" />\n          <label htmlFor=\"title\">Title</label>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"input-field col s12\">\n          <textarea  onChange={e => setArticle(e.target.value)} value={article} id=\"article\" className=\"materialize-textarea\"></textarea>\n          <label htmlFor=\"article\">Textarea</label>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"input-field col s12\">\n          <input type=\"file\" filename=\"articleImage\" id=\"goodimage\"  onChange={onChangeFile} className=\"validate\"/>\n          <label htmlFor=\"goodimage\">File</label>\n        </div>\n      </div>\n      \n      <button className=\"btn waves-effect waves-light\" type=\"submit\" >Submit\n        </button>\n   \n    </form>\n  </div>\n\n\n)\n\n\n}\n\nexport default EditPost;"]},"metadata":{},"sourceType":"module"}